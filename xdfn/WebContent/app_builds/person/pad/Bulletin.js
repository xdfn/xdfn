Ext.define("xdfn.person.pad.Bulletin",{extend:"Ext.ux.portal.Portlet",id:"bulletin",title:"公告栏",height:220,bodyPadding:"5 0 2 5",tpl:new Ext.XTemplate('<ul class="bull-line">','<tpl for=".">','<li><a href="infoPub.do?method=bulletinById&ID={ID_VIEW}" target="_blank">{V_TITLE_VIEW}</a></li>',"</tpl>","</ul>"),loader:{autoLoad:true,url:"infoPub.do?method=getBulletinList",renderer:"data",success:function(b,c,d){var a=Ext.JSON.decode(c.responseText);b.getTarget().update(a.data);return true}},listeners:{destroy:function(a,b){Ext.getCmp("PersonPad").down('menucheckitem[text="公告栏"]').setChecked(false)}},getTools:function(){var a=this;return[{xtype:"tool",type:"refresh",handler:function(f,d,c,b){var g=c.ownerCt;g.setLoading("Loading...");Ext.defer(function(){a.getLoader().load();g.setLoading(false)},500)}}]},initComponent:function(){var a=this;a.tools=a.getTools();a.callParent(arguments)}});