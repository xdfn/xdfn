Ext.define("xdfn.user.DeptDutyWindow",{extend:"xdfn.user.ui.DeptDutyWindow",selectNode:null,deptree:null,url:null,initComponent:function(){var a=this;a.callParent(arguments);a.down("button[text=提交]").on("click",a.OnSubmitBtnClick,a);a.down("button[text=关闭]").on("click",a.OnCloseBtnClick,a)},OnSubmitBtnClick:function(a,f,b){var d=this;var c=a.up("form").getForm();if(!c.isValid()){return}c.submit({clientValidtion:true,waitMsg:"正在提交信息...",waitTitle:"提示",url:d.url,params:{ID:d.selectNode.get("ID_VIEW"),N_NODE_LEVEL:d.selectNode.get("N_NODE_LEVEL_VIEW")},success:function(e,g){d.deptree.getStore().load();d.close()},failure:function(e,g){Ext.Msg.alert("提示","提交失败！")}})},OnCloseBtnClick:function(a,d,b){var c=this;c.close()}});