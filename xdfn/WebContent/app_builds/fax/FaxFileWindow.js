Ext.define("xdfn.fax.FaxFileWindow",{extend:"xdfn.fax.ui.FaxFileWindow",grid:null,ID:null,url:null,initComponent:function(){var a=this;a.callParent(arguments);a.down("button[text=提交]").on("click",a.OnSubmitBtnClick,a);a.down("button[text=关闭]").on("click",a.OnCloseBtnClick,a)},OnSubmitBtnClick:function(a,f,b){var d=this;var c=a.up("form").getForm();if(!c.isValid()){return}c.submit({clientValidtion:true,waitMsg:"正在提交信息...",waitTitle:"提示",url:d.url,params:{ID:d.ID},success:function(g,h){var e=d.grid.getStore(),i=d.grid.getSelectionModel();rows=i.getSelection();if(d.title=="增加附件"){e.insert(0,h.result.data);i.select(0)}else{rows[0].set(h.result.data);rows[0].commit()}d.close()},failure:function(e,g){Ext.Msg.alert("提示","提交失败！")}})},OnCloseBtnClick:function(a,d,b){var c=this;c.close()}});