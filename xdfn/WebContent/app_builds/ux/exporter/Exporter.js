Ext.define("Ext.ux.exporter.Exporter",{uses:["Ext.ux.exporter.Base64","Ext.ux.exporter.Button","Ext.ux.exporter.csvFormatter.CsvFormatter","Ext.ux.exporter.wikiFormatter.WikiFormatter","Ext.ux.exporter.excelFormatter.ExcelFormatter"],statics:{exportAny:function(b,c,a){var d="export";if(!b.is){d=d+"Store"}else{if(b.is("gridpanel")){d=d+"Grid"}else{if(b.is("treepanel")){d=d+"Tree"}else{d=d+"Store";b=b.getStore()}}}return this[d](b,this.getFormatterByName(c),a)},exportGrid:function(d,c,a){a=a||{};c=this.getFormatterByName(c);var b=Ext.Array.filter(d.columns,function(e){return !e.hidden});Ext.applyIf(a,{title:d.title,columns:b});return c.format(d.store,a)},exportStore:function(a,c,b){b=b||{};c=this.getFormatterByName(c);Ext.applyIf(b,{columns:a.fields?a.fields.items:a.model.prototype.fields.items});return c.format(a,b)},exportTree:function(a,d,c){c=c||{};d=this.getFormatterByName(d);var b=a.store||c.store;Ext.applyIf(c,{title:a.title});return d.format(b,c)},getFormatterByName:function(a){a=a?a:"csv";a=!Ext.isString(a)?a:Ext.create("Ext.ux.exporter."+a+"Formatter."+Ext.String.capitalize(a)+"Formatter");return a}}});